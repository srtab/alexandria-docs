{% extends "base.html" %}

{% load i18n humanize %}
{% load core_tags django_bootstrap_breadcrumbs %}


{% block head_title %}{{project.group}} / {{project}}{% endblock %}


{% block breadcrumbs %}
    {{block.super}}
    {% breadcrumb project.group "groups:group-detail" slug=project.group.slug %}
    {% breadcrumb project "projects:project-detail" slug=project.slug %}
{% endblock breadcrumbs %}


{% block container %}

    {% include "projects/includes/project_detail_header.html" %}

    <div class="container">
        <div class="row">

            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="card text-center">
                    <div class="card-header">{% trans "Repository" %}</div>
                    <div class="card-body">
                        <a href="{{project.repo}}" target="_blank" class="btn btn-outline-primary btn-block" rel="noopener" title="{{project.repo}}">{{project.repo|repo_icon}}</a>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="card text-center">
                    <div class="card-header">{% trans "Last update" %}</div>
                    <div class="card-body">
                        {% if project.last_imported_archive_date %}
                            <time datetime="{{project.last_imported_archive_date|date:'c'}}" title="{{project.last_imported_archive_date}}">{{project.last_imported_archive_date|naturaltime}}</time>
                        {% else %}
                            <span class="text-muted">{% trans "No docs uploaded yet" %}</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="card text-center">
                    <div class="card-header">{% trans "Tags" %}</div>
                    <div class="card-body">
                        {% if project.tags.exists %}
                            {% include "projects/includes/project_tags.html" with tags=project.tags.all %}
                        {% else %}
                            <span class="text-muted">{% trans "No tags defined" %}</span>
                        {% endif %}
                    </div>
                </div>
            </div>


            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="card text-center">
                    <div class="card-header">{% trans "Indexed files" %}</div>
                    <div class="card-body">
                        <span class="badge badge-dark">{{project.imported_files_count}}</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

{% endblock %}
